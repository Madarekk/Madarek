<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل الدرجات - منصة مدارك التعليمية</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="https://r2.flowith.net/files/o/1748451765656-Modern_Logo_Design_for_Madarek_School_Management_Platform_index_0@1024x1024.png" type="image/png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --text-color: #333;
            --border-color: #ddd;
            --header-height: 64px;
            --sidebar-width: 250px;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--text-color);
            direction: rtl;
        }
        
        /* الهيدر الثابت */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            z-index: 1000;
        }
        
        /* السايدبار الثابت */
        .sidebar {
            position: fixed;
            top: var(--header-height);
            right: 0;
            width: var(--sidebar-width);
            bottom: 0;
            z-index: 900;
            overflow-y: auto;
        }
        
        /* المحتوى الرئيسي */
        .main-content {
            margin-top: var(--header-height);
            margin-right: var(--sidebar-width);
            padding: 20px;
            min-height: calc(100vh - var(--header-height));
        }
        
        /* ترويسة الصفحة */
        .page-header {
            background: linear-gradient(135deg, var(--secondary-color), #1a2530);
            color: white;
            padding: 25px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        
        .page-title {
            font-size: 28px;
            display: flex;
            align-items: center;
        }
        
        .page-title i {
            margin-left: 15px;
            color: var(--primary-color);
            background: white;
            padding: 10px;
            border-radius: 50%;
        }
        
        /* أدوات التحكم */
        .controls {
            background-color: #f8f9fa;
            padding: 20px 30px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        
        .control-group {
            flex: 1;
            min-width: 250px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--dark-color);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
            background: white;
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-success {
            background-color: var(--success-color);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .btn i {
            margin-left: 8px;
        }
        
        /* جدول الدرجات */
        .grades-container {
            padding: 20px;
            overflow-x: auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .grades-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1000px;
        }
        
        .grades-table th {
            background-color: var(--secondary-color);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: 600;
        }
        
        .grades-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
            text-align: center;
        }
        
        .grades-table tr:last-child td {
            border-bottom: none;
        }
        
        .grades-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .grades-table tr:hover {
            background-color: #f0f7ff;
        }
        
        .student-name {
            font-weight: bold;
            text-align: right;
            padding-right: 20px !important;
        }
        
        .subject-header {
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .subject-header:hover {
            background-color: #1a2530;
        }
        
        .subject-title {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .subject-range {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .score-input {
            width: 80px;
            padding: 8px 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            text-align: center;
            font-size: 15px;
            transition: all 0.3s;
        }
        
        .score-input:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .total-score {
            font-weight: bold;
            color: var(--secondary-color);
            background-color: #e8f4ff;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
        }
        
        .actions {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .action-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
        }
        
        .save-btn {
            background-color: var(--success-color);
            color: white;
        }
        
        .save-btn:hover {
            background-color: #27ae60;
        }
        
        .reset-btn {
            background-color: var(--warning-color);
            color: white;
        }
        
        .reset-btn:hover {
            background-color: #e67e22;
        }
        
        .action-btn i {
            margin-left: 5px;
        }
        
        /* التذييل */
        .footer-actions {
            padding: 20px 30px;
            background-color: #f8f9fa;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
            border-radius: 12px;
            margin-top: 20px;
        }
        
        /* رسائل التنبيه */
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            align-items: center;
        }
        
        .alert-info {
            background-color: #e8f4ff;
            border-left: 4px solid var(--primary-color);
            color: var(--secondary-color);
        }
        
        .alert i {
            margin-left: 10px;
            font-size: 20px;
        }
        
        /* التصميم المتجاوب */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
            }
            
            .main-content {
                margin-right: 70px;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .control-group {
                width: 100%;
            }
            
            .footer-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .footer-actions .btn {
                width: 100%;
                margin-bottom: 10px;
            }
        }
        
        @media (max-width: 768px) {
            .page-header {
                flex-direction: column;
                text-align: center;
            }
            
            .page-title {
                margin-bottom: 15px;
                justify-content: center;
            }
            
            .btn {
                width: 100%;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- الهيدر -->
    <header class="header">
        <div class="bg-white shadow-sm border-b border-gray-200">
            <div class="mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex items-center">
                        <!-- Logo -->
                        <div class="flex-shrink-0 flex items-center">
                            <img src="https://r2.flowith.net/files/o/1748451765656-Modern_Logo_Design_for_Madarek_School_Management_Platform_index_0@1024x1024.png" alt="مدارك" class="h-10 w-10 rounded-full">
                            <span class="mr-3 text-xl font-bold text-gray-800">مدارك</span>
                        </div>
                    </div>

                    <!-- User Menu -->
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <!-- Notifications -->
                        <div class="relative">
                            <button id="notificationButton" class="p-2 text-gray-400 hover:text-gray-600 relative">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM10.9 18.1a5 5 0 1 1 0-9.2"/>
                                </svg>
                                <span class="absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 transform translate-x-1/2 -translate-y-1/2"></span>
                            </button>

                            <!-- Notifications Dropdown -->
                            <div id="notificationsDropdown" class="hidden absolute left-0 mt-2 w-80 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50">
                                <div class="py-1">
                                    <div class="px-4 py-2 border-b border-gray-100">
                                        <h3 class="text-sm font-medium text-gray-900">الإشعارات</h3>
                                    </div>
                                    <div class="max-h-96 overflow-y-auto">
                                        <!-- Notification Items -->
                                        <a href="#" class="block px-4 py-3 hover:bg-gray-50 border-b border-gray-100">
                                            <div class="flex items-start">
                                                <div class="flex-shrink-0">
                                                    <div class="w-2 h-2 bg-blue-400 rounded-full mt-2"></div>
                                                </div>
                                                <div class="mr-3 flex-1">
                                                    <p class="text-sm font-medium text-gray-900">اجتماع أولياء الأمور</p>
                                                    <p class="text-xs text-gray-500">يوم الخميس الساعة 4:00 مساءً</p>
                                                    <p class="text-xs text-gray-400 mt-1">منذ ساعتين</p>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="#" class="block px-4 py-3 hover:bg-gray-50 border-b border-gray-100">
                                            <div class="flex items-start">
                                                <div class="flex-shrink-0">
                                                    <div class="w-2 h-2 bg-green-400 rounded-full mt-2"></div>
                                                </div>
                                                <div class="mr-3 flex-1">
                                                    <p class="text-sm font-medium text-gray-900">بداية الفصل الثاني</p>
                                                    <p class="text-xs text-gray-500">يبدأ يوم الأحد القادم</p>
                                                    <p class="text-xs text-gray-400 mt-1">أمس</p>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="#" class="block px-4 py-3 hover:bg-gray-50 border-b border-gray-100">
                                            <div class="flex items-start">
                                                <div class="flex-shrink-0">
                                                    <div class="w-2 h-2 bg-yellow-400 rounded-full mt-2"></div>
                                                </div>
                                                <div class="mr-3 flex-1">
                                                    <p class="text-sm font-medium text-gray-900">امتحانات نصف الفصل</p>
                                                    <p class="text-xs text-gray-500">تبدأ الأسبوع القادم</p>
                                                    <p class="text-xs text-gray-400 mt-1">منذ 3 أيام</p>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="#" class="block px-4 py-3 hover:bg-gray-50">
                                            <div class="flex items-start">
                                                <div class="flex-shrink-0">
                                                    <div class="w-2 h-2 bg-purple-400 rounded-full mt-2"></div>
                                                </div>
                                                <div class="mr-3 flex-1">
                                                    <p class="text-sm font-medium text-gray-900">تحديث النظام</p>
                                                    <p class="text-xs text-gray-500">تم تحديث النظام إلى الإصدار الجديد</p>
                                                    <p class="text-xs text-gray-400 mt-1">منذ 5 أيام</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="px-4 py-2 border-t border-gray-100">
                                        <a href="announcements.html" class="text-primary hover:text-primary-dark text-sm font-medium block text-center">
                                            عرض جميع الإشعارات
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- User dropdown -->
                        <div class="relative">
                            <button id="userMenuButton" class="flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                                <div class="h-8 w-8 rounded-full bg-primary text-white flex items-center justify-center text-sm font-medium">
                                    أ
                                </div>
                                <span class="mr-2 text-gray-700 hidden sm:block">أحمد المدير</span>
                                <svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                </svg>
                            </button>

                            <div id="userMenu" class="hidden absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50">
                                <div class="py-1">
                                    <a href="profile.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">الملف الشخصي</a>
                                    <a href="settings.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">الإعدادات</a>
                                    <div class="border-t border-gray-100"></div>
                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">تسجيل الخروج</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex h-screen bg-gray-50">
        <!-- Sidebar -->
        <nav class="hidden lg:flex lg:flex-shrink-0 sidebar">
            <div class="flex flex-col w-64">
                <div class="flex flex-col flex-grow bg-white border-l border-gray-200 pt-5 pb-4 overflow-y-auto">
                    <div class="flex-grow mt-5">
                        <nav class="px-3">
                            <ul class="space-y-1">
                                <li>
                                    <a href="index.html" class="bg-primary text-white group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-white ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"/>
                                        </svg>
                                        لوحة التحكم
                                    </a>
                                </li>
                                <li>
                                    <a href="users.html" class="text-gray-700 hover:text-gray-900 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-gray-400 group-hover:text-gray-500 ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
                                        </svg>
                                        إدارة المستخدمين
                                    </a>
                                </li>
                                <li>
                                    <a href="classes.html" class="text-gray-700 hover:text-gray-900 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-gray-400 group-hover:text-gray-500 ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                                        </svg>
                                        الصفوف والفصول
                                    </a>
                                </li>
                                <li>
                                    <a href="schedules.html" class="text-gray-700 hover:text-gray-900 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-gray-400 group-hover:text-gray-500 ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                        </svg>
                                        الجداول الدراسية
                                    </a>
                                </li>
                                <li>
                                    <a href="attendance.html" class="text-gray-700 hover:text-gray-900 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-gray-400 group-hover:text-gray-500 ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                                        </svg>
                                        الحاضر والغياب
                                    </a>
                                </li>
                                <li>
                                    <a href="grades.html" class="text-gray-700 hover:text-gray-900 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-gray-400 group-hover:text-gray-500 ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                        </svg>
                                        الدرجات والتقارير
                                    </a>
                                </li>
                                <li>
                                    <a href="رصد الدرجات.html" class="text-gray-700 hover:text-gray-900 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-gray-400 group-hover:text-gray-500 ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                        </svg>
                                        رصد الدرجات
                                    </a>
                                </li>
                                <li>
                                     <a href="messages.html" class="text-gray-700 hover:text-gray-900 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-gray-400 group-hover:text-gray-500 ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-.55.55c-.1.1-.2.15-.35.15s-.25-.05-.35-.15L8 16z"/>
                                        </svg>
                                        المحادثات
                                    </a>
                                </li>
                                <li>
                                    <a href="announcements.html" class="text-gray-700 hover:text-gray-900 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-gray-400 group-hover:text-gray-500 ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/>
                                        </svg>
                                        الإعلانات
                                    </a>
                                </li>
                                <li>
                                    <a href="settings.html" class="text-gray-700 hover:text-gray-900 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">
                                        <svg class="text-gray-400 group-hover:text-gray-500 ml-3 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                        </svg>
                                        إعدادات النظام
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Mobile menu button -->
        <div class="lg:hidden">
            <button id="mobileMenuButton" class="fixed top-4 right-4 z-50 p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary">
                <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
        </div>

        <!-- Mobile menu overlay -->
        <div id="mobileMenuOverlay" class="fixed inset-0 z-40 lg:hidden hidden">
            <div class="fixed inset-0 bg-gray-600 bg-opacity-75" aria-hidden="true"></div>
            <nav class="fixed top-0 right-0 bottom-0 flex flex-col w-5/6 max-w-sm py-6 bg-white shadow-xl overflow-y-auto">
                <div class="px-4 pb-4 flex items-center justify-between">
                    <div>
                        <img src="https://r2.flowith.net/files/o/1748451765656-Modern_Logo_Design_for_Madarek_School_Management_Platform_index_0@1024x1024.png" alt="مدارك" class="h-8 w-8 rounded-full inline-block">
                        <span class="mr-2 text-lg font-bold text-gray-800">مدارك</span>
                    </div>
                    <button id="closeMobileMenuButton" class="p-2 text-gray-500 hover:text-gray-700 lg:hidden">
                         <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                <nav class="mt-5 px-4 flex-1">
                    <ul class="space-y-1">
                        <li><a href="index.html" class="bg-primary text-white group flex items-center px-3 py-2 text-sm font-medium rounded-md">لوحة التحكم</a></li>
                        <li><a href="users.html" class="text-gray-700 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">إدارة المستخدمين</a></li>
                        <li><a href="classes.html" class="text-gray-700 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">الصفوف والفصول</a></li>
                        <li><a href="schedules.html" class="text-gray-700 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">الجداول الدراسية</a></li>
                        <li><a href="attendance.html" class="text-gray-700 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">الحضور والغياب</a></li>
                        <li><a href="grades.html" class="text-gray-700 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">الدرجات والتقارير</a></li>
                        <li><a href="رصد الدرجات.html" class="text-gray-700 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">رصد الدرجات</a></li>
                        <li><a href="messages.html" class="text-gray-700 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">المحادثات</a></li>
                        <li><a href="announcements.html" class="text-gray-700 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">الإعلانات</a></li>
                        <li><a href="settings.html" class="text-gray-700 hover:bg-gray-50 group flex items-center px-3 py-2 text-sm font-medium rounded-md">إعدادات النظام</a></li>
                    </ul>
                </nav>
            </nav>
        </div>

        <!-- المحتوى الرئيسي -->
        <main class="main-content">
            <!-- ترويسة الصفحة -->
            <div class="page-header">
                <h1 class="page-title">
                    <i class="fas fa-chart-bar"></i>
                    نظام تسجيل درجات الطلاب
                </h1>
                <div class="header-info">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i>
                        <div>
                            <strong>ملاحظة:</strong> قم باختيار الصف والفصل الدراسي أولاً، ثم ابدأ في إدخال درجات الطلاب
                        </div>
                    </div>
                </div>
            </div>
        
        <!-- أدوات التحكم -->
        <div class="controls">
            <div class="control-group">
                <label for="grade-level">اختر الصف</label>
                <select class="form-control" id="grade-level">
                    <option value="">-- اختر الصف --</option>
                    <option value="1">الصف الأول الابتدائي</option>
                    <option value="2">الصف الثاني الابتدائي</option>
                    <option value="3">الصف الثالث الابتدائي</option>
                    <option value="4">الصف الرابع الابتدائي</option>
                    <option value="5">الصف الخامس الابتدائي</option>
                    <option value="6">الصف السادس الابتدائي</option>
                    <option value="7">الصف الأول اعدادي</option>
                    <option value="8">الصف الثاني اعدادي</option>
                    <option value="9">الصف الثالث اعدادي</option>
                </select>
            </div>
            
            <div class="control-group">
                <label for="semester">اختر الفصل الدراسي</label>
                <select class="form-control" id="semester">
                    <option value="">-- اختر الفصل --</option>
                    <option value="1">الفصل الدراسي الأول</option>
                    <option value="2">الفصل الدراسي الثاني</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>&nbsp;</label>
                <button class="btn btn-primary" id="load-students">
                    <i class="fas fa-sync-alt"></i>
                    تحميل قائمة الطلاب
                </button>
            </div>
        </div>
        
        <!-- جدول الدرجات -->
        <div class="grades-container">
            <table class="grades-table">
                <thead>
                    <tr>
                        <th rowspan="2">اسم الطالب</th>
                        <!-- مواد الصف الأول الابتدائي -->
                        <th class="subject-header">
                            <div class="subject-title">اللغة العربية</div>
                            <div class="subject-range">(الدرجة الكبرى: 60 - الصغرى: 30)</div>
                        </th>
                        <th class="subject-header">
                            <div class="subject-title">الرياضيات</div>
                            <div class="subject-range">(الدرجة الكبرى: 80 - الصغرى: 40)</div>
                        </th>
                        <th class="subject-header">
                            <div class="subject-title">العلوم</div>
                            <div class="subject-range">(الدرجة الكبرى: 50 - الصغرى: 25)</div>
                        </th>
                        <th class="subject-header">
                            <div class="subject-title">اللغة الإنجليزية</div>
                            <div class="subject-range">(الدرجة الكبرى: 50 - الصغرى: 25)</div>
                        </th>
                        <th class="subject-header">
                            <div class="subject-title">التربية الإسلامية</div>
                            <div class="subject-range">(الدرجة الكبرى: 40 - الصغرى: 20)</div>
                        </th>
                        <th rowspan="2">المجموع</th>
                        <th rowspan="2">الإجراءات</th>
                    </tr>
                    
                </thead>
                <tbody>
                    <tr>
                        <td class="student-name">محمد أحمد عبد الله</td>
                        
                        <!-- اللغة العربية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="25">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="50" placeholder="0-50" value="42">
                            </div>
                        </td>
                        
                        <!-- الرياضيات -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="18">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="40" placeholder="0-40" value="35">
                            </div>
                        </td>
                        
                        <!-- العلوم -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="17">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="26">
                            </div>
                        </td>
                        
                        <!-- اللغة الإنجليزية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="18">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="27">
                            </div>
                        </td>
                        
                        <!-- التربية الإسلامية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="15" placeholder="0-15" value="13">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="25" placeholder="0-25" value="22">
                            </div>
                        </td>
                        
                        <td>
                            <div class="total-score">268</div>
                        </td>
                        
                        <td class="actions">
                            <button class="action-btn save-btn">
                                <i class="fas fa-save"></i>
                                حفظ
                            </button>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="student-name">سارة خالد محمد</td>
                        
                        <!-- اللغة العربية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="28">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="50" placeholder="0-50" value="45">
                            </div>
                        </td>
                        
                        <!-- الرياضيات -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="19">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="40" placeholder="0-40" value="38">
                            </div>
                        </td>
                        
                        <!-- العلوم -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="18">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="27">
                            </div>
                        </td>
                        
                        <!-- اللغة الإنجليزية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="19">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="28">
                            </div>
                        </td>
                        
                        <!-- التربية الإسلامية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="15" placeholder="0-15" value="14">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="25" placeholder="0-25" value="23">
                            </div>
                        </td>
                        
                        <td>
                            <div class="total-score">285</div>
                        </td>
                        
                        <td class="actions">
                            <button class="action-btn save-btn">
                                <i class="fas fa-save"></i>
                                حفظ
                            </button>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="student-name">عمر سعيد حسن</td>
                        
                        <!-- اللغة العربية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="22">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="50" placeholder="0-50" value="38">
                            </div>
                        </td>
                        
                        <!-- الرياضيات -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="16">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="40" placeholder="0-40" value="32">
                            </div>
                        </td>
                        
                        <!-- العلوم -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="15">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="24">
                            </div>
                        </td>
                        
                        <!-- اللغة الإنجليزية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="17">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="25">
                            </div>
                        </td>
                        
                        <!-- التربية الإسلامية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="15" placeholder="0-15" value="12">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="25" placeholder="0-25" value="20">
                            </div>
                        </td>
                        
                        <td>
                            <div class="total-score">245</div>
                        </td>
                        
                        <td class="actions">
                            <button class="action-btn save-btn">
                                <i class="fas fa-save"></i>
                                حفظ
                            </button>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="student-name">فاطمة ناصر علي</td>
                        
                        <!-- اللغة العربية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="27">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="50" placeholder="0-50" value="44">
                            </div>
                        </td>
                        
                        <!-- الرياضيات -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="18">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="40" placeholder="0-40" value="36">
                            </div>
                        </td>
                        
                        <!-- العلوم -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="17">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="26">
                            </div>
                        </td>
                        
                        <!-- اللغة الإنجليزية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="20" placeholder="0-20" value="19">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="30" placeholder="0-30" value="28">
                            </div>
                        </td>
                        
                        <!-- التربية الإسلامية -->
                        <td>
                            <div class="score-cols">
                                <div>الأعمال</div>
                                <input type="number" class="score-input" min="0" max="15" placeholder="0-15" value="14">
                                <div>الامتحان</div>
                                <input type="number" class="score-input" min="0" max="25" placeholder="0-25" value="22">
                            </div>
                        </td>
                        
                        <td>
                            <div class="total-score">279</div>
                        </td>
                        
                        <td class="actions">
                            <button class="action-btn save-btn">
                                <i class="fas fa-save"></i>
                                حفظ
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- التذييل -->
        <div class="footer-actions">
            <button class="btn btn-success">
                <i class="fas fa-save"></i>
                حفظ جميع التغييرات
            </button>
            
            <button class="btn btn-primary">
                <i class="fas fa-file-export"></i>
                تصدير الدرجات إلى ملف Excel
            </button>
            
            <button class="btn btn-reset">
                <i class="fas fa-redo"></i>
                إعادة تعيين الحقول
            </button>
        </div>
    </main>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // اختيار الصف والفصل الدراسي
            const gradeLevel = document.getElementById('grade-level');
            const semester = document.getElementById('semester');
            const loadBtn = document.getElementById('load-students');
            
            // تفاعل زر تحميل الطلاب
            loadBtn.addEventListener('click', function() {
                if(!gradeLevel.value || !semester.value) {
                    alert('الرجاء اختيار الصف والفصل الدراسي أولاً');
                    return;
                }
                
                const gradeName = gradeLevel.options[gradeLevel.selectedIndex].text;
                const semesterName = semester.options[semester.selectedIndex].text;
                
                alert(`تم تحميل قائمة طلاب ${gradeName} للفصل الدراسي ${semesterName}`);
                
                // إضافة رسالة نجاح
                const alertDiv = document.createElement('div');
                alertDiv.className = 'alert alert-info';
                alertDiv.innerHTML = `
                    <i class="fas fa-check-circle"></i>
                    <div>
                        <strong>تم التحميل بنجاح:</strong> تم تحميل قائمة طلاب ${gradeName} للفصل الدراسي ${semesterName}
                    </div>
                `;
                
                document.querySelector('.header-info').appendChild(alertDiv);
                
                // إخفاء الرسالة بعد 5 ثواني
                setTimeout(() => {
                    alertDiv.style.opacity = '0';
                    setTimeout(() => alertDiv.remove(), 500);
                }, 5000);
            });
            
            // تفاعل حقول إدخال الدرجات
            const scoreInputs = document.querySelectorAll('.score-input');
            scoreInputs.forEach(input => {
                input.addEventListener('input', function() {
                    const row = this.closest('tr');
                    updateTotalScore(row);
                });
                
                input.addEventListener('blur', function() {
                    const max = parseInt(this.max);
                    const min = parseInt(this.min);
                    const value = parseInt(this.value) || 0;
                    
                    if(value > max) {
                        this.value = max;
                        alert(`الدرجة القصوى المسموحة: ${max}`);
                    }
                    
                    if(value < min) {
                        this.value = min;
                        alert(`الدرجة الصغرى المسموحة: ${min}`);
                    }
                });
            });
            
            // تحديث المجموع
            function updateTotalScore(row) {
                let total = 0;
                const inputs = row.querySelectorAll('.score-input');
                
                inputs.forEach(input => {
                    total += parseInt(input.value) || 0;
                });
                
                const totalElement = row.querySelector('.total-score');
                if(totalElement) {
                    totalElement.textContent = total;
                    
                    // تحديد لون المجموع حسب الأداء
                    if(total < 150) {
                        totalElement.style.backgroundColor = '#ffebee';
                        totalElement.style.color = '#c62828';
                    } else if(total >= 150 && total < 200) {
                        totalElement.style.backgroundColor = '#fff8e1';
                        totalElement.style.color = '#f57f17';
                    } else {
                        totalElement.style.backgroundColor = '#e8f5e9';
                        totalElement.style.color = '#2e7d32';
                    }
                }
            }
            
            // تفاعل أزرار الحفظ
            const saveBtns = document.querySelectorAll('.save-btn');
            saveBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const row = this.closest('tr');
                    const studentName = row.querySelector('.student-name').textContent;
                    
                    // تحديث المجموع قبل الحفظ
                    updateTotalScore(row);
                    
                    // إظهار رسالة نجاح
                    const successMsg = document.createElement('div');
                    successMsg.className = 'alert alert-info';
                    successMsg.innerHTML = `
                        <i class="fas fa-check-circle"></i>
                        <div>
                            <strong>تم الحفظ بنجاح:</strong> تم حفظ درجات الطالب ${studentName}
                        </div>
                    `;
                    
                    document.querySelector('.header-info').appendChild(successMsg);
                    
                    // إخفاء الرسالة بعد 3 ثواني
                    setTimeout(() => {
                        successMsg.style.opacity = '0';
                        setTimeout(() => successMsg.remove(), 500);
                    }, 3000);
                });
            });
            
            // تحديث المجاميع عند التحميل
            document.querySelectorAll('tbody tr').forEach(row => {
                updateTotalScore(row);
            });
        });
    </script>
    <script src="dashboard.js"></script>
</body>
</html>